import{d as e,l as a,u as t,c as l,o,a as s,i as n,h as r,Q as u,X as i,m as d,a4 as c,z as p,K as f,P as m,g as v,r as b,n as g,R as h,Y as x,b as y,U as w,V as C,G as V,at as k,au as S,j as _,T as F,av as T,aw as L,ax as z,ay as M,az as U,aA as P,aB as B,aC as D,aD as A,f as I,y as j,aE as G,am as $,aF as q,aG as R,aH as E,aI as N,aJ as O,aK as W,aL as H,aM as J,aN as K,aO as Q,aP as X,aQ as Y,aR as Z,aS as ee,aT as ae,aU as te,aV as le,aW as oe,Z as se,B as ne,aX as re,w as ue,x as ie,aY as de,aZ as ce,_ as pe}from"./chunk-B1GhtS-6.js";import{G as fe}from"./chunk-Cb8KJOhw.js";import{b as me,_ as ve,u as be,i as ge,e as he,t as xe}from"./chunk-6arlBFx2.js";import{_ as ye}from"./chunk-DQpb1X2O.js";import"./chunk-DsM932Ci.js";const we={class:"p-4 border text-setting fieldset bg-base-200 border-base-300 rounded-box w-xs pb-10"},Ce={class:"fieldset-legend"},Ve={class:"flex flex-row items-center form-control"},ke={class:""},Se={class:"label flex flex-col justify-start items-start"},_e={class:"label"},Fe={class:"label-text text-left"},Te=["data-tip"],Le=["placeholder"],ze={class:"flex items-center justify-between w-full max-w-xs gap-2 mb-3 form-control"},Me={class:"label"},Ue={class:"label-text"},Pe=["checked"],Be=e({__name:"FunctionSetting",props:{definiteTime:{required:!0},definiteTimeModifiers:{},winMusic:{type:Boolean,required:!0},winMusicModifiers:{}},emits:["update:definiteTime","update:winMusic"],setup(e){const{t:d}=a(),c=t(e,"definiteTime"),p=t(e,"winMusic");return(e,a)=>(o(),l("fieldset",we,[s("legend",Ce,n(r(d)("table.functionSetting")),1),s("label",Ve,[s("div",ke,[s("div",Se,[s("label",_e,[s("span",Fe,n(r(d)("table.timedStop")),1),s("div",{class:"tooltip","data-tip":r(d)("tooltip.timedStop")},[...a[2]||(a[2]=[s("button",{class:"btn btn-circle h-4 hover:bg-base-300"}," ? ",-1)])],8,Te)]),u(s("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),type:"number",placeholder:r(d)("placeHolder.timedStop"),class:"w-full max-w-xs input input-bordered"},null,8,Le),[[i,c.value]])])])]),s("div",ze,[s("div",Me,[s("span",Ue,n(r(d)("table.playWinMusic")),1)]),s("input",{type:"checkbox",checked:p.value,class:"border-solid checkbox checkbox-secondary border",onChange:a[1]||(a[1]=e=>p.value=!p.value)},null,40,Pe)])]))}}),De={class:"flex flex-col items-center gap-6 w-full px-12"},Ae=e({__name:"UploadDialog",props:d({importAllConfigData:{type:Function}},{visible:{type:Boolean,required:!0},visibleModifiers:{}}),emits:["update:visible"],setup(e){const l=e,n=c.useToast(),u=b("application/json"),i=t(e,"visible"),d=b(null),{t:g}=a(),h=b();async function x(e){if(!e)return void(d.value=null);/application\/json/.test(e?.type||"")?d.value=e:n.open({message:g("error.notJsonFile"),type:"error",position:"top-right"})}function y(){if(d.value){const e=d.value.data;l.importAllConfigData(e)}}return p(i,e=>{e&&h.value.showDialog()}),(e,a)=>(o(),f(me,{ref_key:"uploadDialogRef",ref:h,visible:i.value,"onUpdate:visible":a[0]||(a[0]=e=>i.value=e),title:r(g)("dialog.uploadFileTitle"),"submit-func":y,class:""},{content:m(()=>[s("div",De,[i.value?(o(),f(ye,{key:0,"limit-type":u.value,mode:"json",onUploadFile:x},null,8,["limit-type"])):v("",!0)])]),_:1},8,["visible","title"]))}}),Ie={class:"p-4 border text-setting fieldset bg-base-200 border-base-300 rounded-box w-xs pb-10"},je={class:"fieldset-legend"},Ge={class:"modal-box"},$e={class:"text-lg font-bold"},qe={class:"py-4"},Re={class:"modal-action"},Ee={method:"dialog",class:"flex gap-3"},Ne={class:"flex flex-row items-center form-control"},Oe={class:""},We={class:"label flex flex-col justify-start items-start"},He={class:"label-text text-left"},Je={class:"help"},Ke=e({__name:"DataSetting",props:{resetData:{type:Function},exportAllConfigData:{type:Function},importAllConfigData:{type:Function}},setup(e){const{t:t}=a(),u=b(),i=b(!1);return(a,d)=>(o(),l("fieldset",Ie,[s("legend",je,n(r(t)("table.dataSetting")),1),s("dialog",{id:"my_modal_1",ref_key:"resetDataDialogRef",ref:u,class:"border-none modal"},[s("div",Ge,[s("h3",$e,n(r(t)("dialog.titleTip")),1),s("p",qe,n(r(t)("dialog.dialogResetAllData")),1),s("div",Re,[s("form",Ee,[s("button",{class:"btn",onClick:d[0]||(d[0]=e=>u.value.close())},n(r(t)("button.cancel")),1),s("button",{class:"btn",onClick:d[1]||(d[1]=(...a)=>e.resetData&&e.resetData(...a))},n(r(t)("button.confirm")),1)])])])],512),g(Ae,{visible:i.value,"onUpdate:visible":d[2]||(d[2]=e=>i.value=e),"import-all-config-data":e.importAllConfigData},null,8,["visible","import-all-config-data"]),s("label",Ne,[s("div",Oe,[s("div",We,[s("span",He,n(r(t)("table.resetAllData")),1),s("div",Je,[s("button",{class:"btn btn-sm btn-primary",onClick:d[3]||(d[3]=e=>u.value.showModal())},n(r(t)("button.resetAllData")),1)])])])])]))}}),Qe={class:"p-4 border text-setting fieldset bg-base-200 border-base-300 rounded-box w-xs pb-10"},Xe={class:"fieldset-legend"},Ye={class:"flex flex-row items-center form-control"},Ze={class:""},ea={class:"label"},aa={class:"label-text"},ta={class:"help"},la={key:0,class:"text-xs text-red-400 help-text"},oa={class:"join"},sa=["data-tip"],na=["disabled"],ra={class:"loading loading-ring loading-md"},ua={class:"flex flex-row w-full max-w-xs gap-10 form-control"},ia={class:"label"},da={class:"label-text"},ca={class:"label"},pa={class:"label-text"},fa={class:"flex items-center justify-between w-full max-w-xs gap-2 mb-3 form-control"},ma={class:"label"},va={class:"label-text"},ba=["checked"],ga={class:"flex items-center justify-between w-full max-w-xs gap-2 mb-3 form-control"},ha={class:"label"},xa={class:"label-text"},ya=["checked"],wa=e({__name:"LayoutSetting",props:d({resetPersonLayout:{type:Function},isRowCountChange:{}},{formErr:{required:!0},formErrModifiers:{},formData:{required:!0},formDataModifiers:{},cardSizeValue:{required:!0},cardSizeValueModifiers:{},isShowPrizeListValue:{type:Boolean,required:!0},isShowPrizeListValueModifiers:{},isShowAvatarValue:{type:Boolean,required:!1},isShowAvatarValueModifiers:{}}),emits:["update:formErr","update:formData","update:cardSizeValue","update:isShowPrizeListValue","update:isShowAvatarValue"],setup(e){const{t:d}=a(),c=t(e,"formErr"),p=t(e,"formData"),f=t(e,"cardSizeValue"),m=t(e,"isShowPrizeListValue"),b=t(e,"isShowAvatarValue");return(a,t)=>(o(),l("fieldset",Qe,[s("legend",Xe,n(r(d)("table.layoutSetting")),1),s("label",Ye,[s("div",Ze,[s("div",ea,[s("span",aa,n(r(d)("table.columnNumber")),1),s("div",ta,[c.value.rowCount?(o(),l("span",la,n(c.value.rowCount),1)):v("",!0)])])])]),s("div",oa,[u(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>p.value.rowCount=e),type:"number",placeholder:"Type here",class:"w-full input input-bordered join-item"},null,512),[[i,p.value.rowCount]]),s("div",{class:"tooltip join-item","data-tip":r(d)("tooltip.resetLayout")},[s("button",{class:"btn btn-neutral w-30 join-item",disabled:1!==e.isRowCountChange,onClick:t[1]||(t[1]=(...a)=>e.resetPersonLayout&&e.resetPersonLayout(...a))},[s("span",null,n(r(d)("button.setLayout")),1),u(s("span",ra,null,512),[[h,2===e.isRowCountChange]])],8,na)],8,sa)]),s("label",ua,[s("div",null,[s("div",ia,[s("span",da,n(r(d)("table.cardWidth")),1)]),u(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>f.value.width=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[i,f.value.width]])]),s("div",null,[s("div",ca,[s("span",pa,n(r(d)("table.cardHeight")),1)]),u(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>f.value.height=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[i,f.value.height]])])]),s("div",fa,[s("div",ma,[s("span",va,n(r(d)("table.alwaysDisplay")),1)]),s("input",{type:"checkbox",checked:m.value,class:"border-solid checkbox checkbox-secondary border",onChange:t[4]||(t[4]=e=>m.value=!m.value)},null,40,ba)]),s("div",ga,[s("div",ha,[s("span",xa,n(r(d)("table.avatarDisplay")),1)]),s("input",{type:"checkbox",checked:b.value,class:"border-solid checkbox checkbox-secondary border",onChange:t[5]||(t[5]=e=>b.value=!b.value)},null,40,ya)])]))}}),Ca={class:"w-full h-auto"},Va=["onClick"],ka=ve(e({__name:"PatternEdit",props:{rowCount:{type:Number,default:17},cardColor:{type:String,default:"#fff"},patternColor:{type:String,default:"#000"},patternList:{type:Array,default:()=>[]}},setup(e){const a=e,t=y(()=>a);return(e,a)=>(o(),l("div",Ca,[s("ul",{class:"pattern-list",style:x({gridTemplateColumns:`repeat(${t.value.rowCount},1fr)`})},[(o(!0),l(w,null,C(7*t.value.rowCount,e=>(o(),l("li",{key:e,class:"w-5 h-5",style:x({backgroundColor:t.value.patternList.includes(e)?t.value.patternColor:t.value.cardColor}),onClick:V(a=>function(e,a){if(t.value.patternList.includes(a)){const e=t.value.patternList.indexOf(a);t.value.patternList.splice(e,1)}else t.value.patternList.push(a)}(0,e),["stop"])},null,12,Va))),128))],4)]))}}),[["__scopeId","data-v-9d5a1688"]]),Sa={class:"p-4 border text-setting fieldset bg-base-200 border-base-300 rounded-box w-xs pb-10"},_a={class:"fieldset-legend"},Fa={class:"items-center gap-24 mb-0 form-control"},Ta={class:"label"},La={class:"label-text"},za={class:"h-auto"},Ma={class:"flex w-full gap-3 m-0"},Ua=["data-tip"],Pa=e({__name:"PatternSetting",props:{rowCount:{},cardColor:{},patternColor:{},patternList:{},clearPattern:{type:Function},resetPattern:{type:Function}},setup(e){const{t:t}=a();return(a,u)=>(o(),l("fieldset",Sa,[s("legend",_a,n(r(t)("table.patternSetting")),1),s("div",Fa,[s("div",null,[s("label",Ta,[s("span",La,n(r(t)("table.patternSetting")),1)]),s("div",za,[g(ka,{"row-count":e.rowCount,"card-color":e.cardColor,"pattern-color":e.patternColor,"pattern-list":e.patternList},null,8,["row-count","card-color","pattern-color","pattern-list"])])]),s("div",Ma,[s("button",{class:"mt-5 btn btn-info btn-sm",onClick:u[0]||(u[0]=V((...a)=>e.clearPattern&&e.clearPattern(...a),["stop"]))},[s("span",null,n(r(t)("button.clearPattern")),1)]),s("div",{class:"tooltip","data-tip":r(t)("tooltip.defaultLayout")},[s("button",{class:"mt-5 btn btn-info btn-sm",onClick:u[1]||(u[1]=(...a)=>e.resetPattern&&e.resetPattern(...a))},[s("span",null,n(r(t)("button.DefaultPattern")),1)])],8,Ua)])])]))}});function Ba(...e){return k(S(e))}const Da=e({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const a=e;return(t,l)=>(o(),f(r(T),{"data-slot":"button",as:e.as,"as-child":e.asChild,class:F(r(Ba)(r(Aa)({variant:e.variant,size:e.size}),a.class))},{default:m(()=>[_(t.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),Aa=L("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}}),Ia=e({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{emit:a}){const t=e,l=a,s=z(t,"class"),n=M(s,l),u=b(new Map),i=b(new Map),{contains:d}=D({sensitivity:"base"}),c=U({search:"",filtered:{count:0,items:new Map,groups:new Set}});return p(()=>c.search,()=>{!function(){if(!c.search)return void(c.filtered.count=u.value.size);c.filtered.groups=new Set;let e=0;for(const[a,t]of u.value){const l=d(t,c.search);c.filtered.items.set(a,l?1:0),l&&e++}for(const[a,t]of i.value)for(const e of t)if(c.filtered.items.get(e)>0){c.filtered.groups.add(a);break}c.filtered.count=e}()}),Wa({allItems:u,allGroups:i,filterState:c}),(e,a)=>(o(),f(r(B),P({"data-slot":"command"},r(n),{class:r(Ba)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t.class)}),{default:m(()=>[_(e.$slots,"default")]),_:3},16,["class"]))}}),ja=e({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=z(a,"class"),{filterState:l}=Oa(),s=y(()=>!!l.search&&0===l.filtered.count);return(e,l)=>s.value?(o(),f(r(T),P({key:0,"data-slot":"command-empty"},r(t),{class:r(Ba)("py-6 text-center text-sm",a.class)}),{default:m(()=>[_(e.$slots,"default")]),_:3},16,["class"])):v("",!0)}}),Ga=e({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(e){const a=e,t=z(a,"class"),{allGroups:l,filterState:s}=Oa(),u=A(),i=y(()=>!s.search||s.filtered.groups.has(u));return Ja({id:u}),I(()=>{l.value.has(u)||l.value.set(u,new Set)}),j(()=>{l.value.delete(u)}),(l,s)=>(o(),f(r(q),P(r(t),{id:r(u),"data-slot":"command-group",class:r(Ba)("text-foreground overflow-hidden p-1",a.class),hidden:!i.value||void 0}),{default:m(()=>[e.heading?(o(),f(r(G),{key:0,"data-slot":"command-group-heading",class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:m(()=>[$(n(e.heading),1)]),_:1})):v("",!0),_(l.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),$a={"data-slot":"command-input-wrapper",class:"flex h-9 items-center gap-2 border-b px-3"},qa=e({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=z(a,"class"),s=R(t),{filterState:n}=Oa();return(e,t)=>(o(),l("div",$a,[g(r(E),{class:"size-4 shrink-0 opacity-50"}),g(r(N),P({...r(s),...e.$attrs},{modelValue:r(n).search,"onUpdate:modelValue":t[0]||(t[0]=e=>r(n).search=e),"data-slot":"command-input","auto-focus":"",class:r(Ba)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",a.class)}),null,16,["modelValue","class"])]))}}),Ra=e({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(e,{emit:a}){const t=e,l=a,s=z(t,"class"),n=M(s,l),u=A(),{filterState:i,allItems:d,allGroups:c}=Oa(),p=Ha(),g=y(()=>{if(i.search){const e=i.filtered.items.get(u);return void 0===e||e>0}return!0}),h=b(),x=O(h);return I(()=>{if(!(x.value instanceof HTMLElement))return;d.value.set(u,x.value.textContent??t.value?.toString()??"");const e=p?.id;e&&(c.value.has(e)?c.value.get(e)?.add(u):c.value.set(e,new Set([u])))}),j(()=>{d.value.delete(u)}),(e,a)=>g.value?(o(),f(r(W),P({key:0},r(n),{id:r(u),ref_key:"itemRef",ref:h,"data-slot":"command-item",class:r(Ba)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t.class),onSelect:a[0]||(a[0]=()=>{r(i).search=""})}),{default:m(()=>[_(e.$slots,"default")]),_:3},16,["id","class"])):v("",!0)}}),Ea={role:"presentation"},Na=e({__name:"CommandList",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=z(a,"class"),l=R(t);return(e,t)=>(o(),f(r(H),P({"data-slot":"command-list"},r(l),{class:r(Ba)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",a.class)}),{default:m(()=>[s("div",Ea,[_(e.$slots,"default")])]),_:3},16,["class"]))}}),[Oa,Wa]=J("Command"),[Ha,Ja]=J("CommandGroup"),Ka=e({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:a}){const t=M(e,a);return(e,a)=>(o(),f(r(X),P({"data-slot":"popover"},r(t)),{default:m(a=>[_(e.$slots,"default",K(Q(a)))]),_:3},16))}}),Qa=e({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const t=e,l=a,s=z(t,"class"),n=M(s,l);return(e,a)=>(o(),f(r(Z),null,{default:m(()=>[g(r(Y),P({"data-slot":"popover-content"},{...e.$attrs,...r(n)},{class:r(Ba)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md origin-(--reka-popover-content-transform-origin) outline-hidden",t.class)}),{default:m(()=>[_(e.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Xa=e({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const a=e;return(e,t)=>(o(),f(r(ee),P({"data-slot":"popover-trigger"},a),{default:m(()=>[_(e.$slots,"default")]),_:3},16))}});function Ya(){const e=b(new Map),a=b(!1);return I(()=>{window.queryLocalFonts||(a.value=!0)}),{disabled:a,fonts:e,getFonts:async()=>{if(!window.queryLocalFonts)return;const a=(e=>{const a=new Map;for(const t of e){a.has(t.family)||a.set(t.family,[]);const e=a.get(t.family);if(!Array.isArray(e))continue;if(t.family===t.fullName){e.push({name:t.style,value:t.fullName});continue}const l=t.fullName.replace(t.family,"").trim(),o=t.fullName;e.push({name:l,value:o})}return a})(await window.queryLocalFonts());e.value=a}}}const Za=["onMouseenter"],et=e({__name:"SelectFont",props:d({disabled:{type:Boolean}},{selectedFont:{type:String,required:!0},selectedFontModifiers:{}}),emits:["update:selectedFont"],setup(e){const u=e,i=t(e,"selectedFont"),{getFonts:d,disabled:c,fonts:p}=Ya(),v=b(!1),h=b(""),V=ae(h,20),{t:k}=a();function S(e){v.value=!1,h.value="",i.value=e}function _(e){h.value=e}function T(){h.value=""}const L=y(()=>u.disabled||c?{cursor:"not-allowed"}:{});return(a,t)=>(o(),l("div",{class:"w-full h-full flex justify-center items-center max-w-xs",style:x(L.value)},[g(r(Ka),{open:v.value,"onUpdate:open":t[2]||(t[2]=e=>v.value=e),class:"w-full"},{default:m(()=>[g(r(Xa),{"as-child":"",disabled:r(c)||e.disabled},{default:m(()=>[g(r(Da),{variant:"outline",role:"combobox","aria-expanded":v.value,class:"w-full justify-between truncate hover:bg-transparent hover:text-inherit",onClick:r(d)},{default:m(()=>[s("span",{class:"w-7/8 text-left truncate",style:x({fontFamily:`${i.value}`})},n(i.value||r(k)("placeHolder.selectFont")),5),g(r(te),{class:"opacity-50"})]),_:1},8,["aria-expanded","onClick"])]),_:1},8,["disabled"]),g(r(Qa),{class:"w-full p-0 bg-base-100"},{default:m(()=>[g(r(Ia),null,{default:m(()=>[g(r(qa),{class:"h-9",placeholder:"Search framework..."}),g(r(Na),{onScroll:T},{default:m(()=>[g(r(ja),null,{default:m(()=>[...t[3]||(t[3]=[$("No framework found.",-1)])]),_:1}),g(r(Ga),null,{default:m(()=>[(o(!0),l(w,null,C(r(p),([e,a])=>(o(),f(r(Ra),{key:e,value:e,class:"w-full hover:bg-gray-200/60",onSelect:a=>S(e)},{default:m(()=>[g(r(Ka),{open:r(V)===e,class:"w-full"},{default:m(()=>[g(r(Xa),{class:"w-full"},{default:m(()=>[s("div",{style:x({fontFamily:`${e}`}),class:"w-full flex justify-between items-center",onMouseleave:t[0]||(t[0]=e=>_("")),onMouseenter:a=>_(e)},[$(n(e)+" ",1),g(r(le),{class:F(r(Ba)("ml-auto"))},null,8,["class"])],44,Za)]),_:2},1024),g(r(Qa),{class:"p-2 bg-base-100",side:"right",onMouseleave:t[1]||(t[1]=e=>_("")),onMouseenter:a=>_(e)},{default:m(()=>[g(r(oe)),g(r(Ia),null,{default:m(()=>[g(r(Ga),null,{default:m(()=>[(o(!0),l(w,null,C(a,a=>(o(),f(r(Ra),{key:a.value,value:a.value,class:"w-full hover:bg-gray-200/60",style:x({fontFamily:`${e}`}),onSelect:e=>S(a.value)},{default:m(()=>[$(n(a.name),1)]),_:2},1032,["value","style","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["onMouseenter"])]),_:2},1032,["open"])]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],4))}}),at={class:"p-4 border text-setting fieldset bg-base-200 border-base-300 rounded-box w-xs pb-10"},tt={class:"fieldset-legend"},lt={class:"label"},ot={class:"label"},st={class:"label-text"},nt=["placeholder"],rt={class:"w-full max-w-xs form-control"},ut={class:"label"},it={class:"label-text"},dt={disabled:"",selected:""},ct=["value"],pt={class:"w-full max-w-xs form-control"},ft={class:"label"},mt={class:"label-text"},vt={class:"w-full max-w-xs form-control mt-3"},bt={class:"label"},gt={class:"label-text"},ht={class:"flex flex-row w-full max-w-xs mt-5 gap-10 form-control"},xt={class:"w-3/4"},yt={class:"label"},wt={class:"label-text"},Ct={class:"flex flex-col gap-4"},Vt={class:"label"},kt={class:"label-text"},St=["checked"],_t=e({__name:"TextSetting",props:{languageList:{},languageListModifiers:{},topTitleValue:{default:""},topTitleValueModifiers:{},languageValue:{default:"zh-CN"},languageValueModifiers:{},textSizeValue:{},textSizeValueModifiers:{},currentFontValue:{default:"",type:String},currentFontValueModifiers:{},currentTitleFontValue:{default:"",type:String},currentTitleFontValueModifiers:{},titleFontSyncGlobalValue:{type:Boolean},titleFontSyncGlobalValueModifiers:{}},emits:["update:languageList","update:topTitleValue","update:languageValue","update:textSizeValue","update:currentFontValue","update:currentTitleFontValue","update:titleFontSyncGlobalValue"],setup(e){const{t:d}=a(),c=t(e,"languageList"),p=t(e,"topTitleValue"),f=t(e,"languageValue"),m=t(e,"textSizeValue"),v=t(e,"currentFontValue"),b=t(e,"currentTitleFontValue"),h=t(e,"titleFontSyncGlobalValue");return(e,a)=>(o(),l("fieldset",at,[s("legend",tt,n(r(d)("table.textSetting")),1),s("label",lt,[s("div",ot,[s("span",st,n(r(d)("table.title")),1)])]),u(s("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),type:"text",placeholder:r(d)("placeHolder.enterTitle"),class:"w-full max-w-xs input input-bordered"},null,8,nt),[[i,p.value]]),s("label",rt,[s("div",ut,[s("span",it,n(r(d)("table.language")),1)]),u(s("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>f.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border"},[s("option",dt,n(r(d)("table.language")),1),(o(!0),l(w,null,C(c.value,e=>(o(),l("option",{key:e.key,value:e.key},n(e.name),9,ct))),128))],512),[[se,f.value]])]),s("label",pt,[s("div",ft,[s("span",mt,n(r(d)("table.textSize")),1)]),u(s("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>m.value=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[i,m.value]])]),s("label",vt,[s("div",bt,[s("span",gt,n(r(d)("table.globalFont")),1)]),g(et,{"selected-font":v.value,"onUpdate:selectedFont":a[3]||(a[3]=e=>v.value=e)},null,8,["selected-font"])]),s("label",ht,[s("div",xt,[s("div",yt,[s("span",wt,n(r(d)("table.titleFont")),1)]),g(et,{"selected-font":b.value,"onUpdate:selectedFont":a[4]||(a[4]=e=>b.value=e),disabled:h.value},null,8,["selected-font","disabled"])]),s("div",Ct,[s("div",Vt,[s("span",kt,n(r(d)("table.syncGlobalFont")),1)]),s("input",{type:"checkbox",checked:h.value,class:"border-solid checkbox checkbox-secondary border",onChange:a[5]||(a[5]=e=>h.value=!h.value)},null,40,St)])])]))}}),Ft=["valentine","halloween","cmyk","winter","corporate","fantasy","aqua","pastel","lemonade","garden","silk","black","coffee","wireframe","caramellatte","acid","cyberpunk","nord","bumblebee","night","dracula","synthwave","light","dark","forest","emerald","business","cupcake","autumn","abyss","dim","lofi","sunset","luxury","retro"],Tt={class:"p-4 border text-setting fieldset bg-base-200 border-base-300 rounded-box w-xs pb-10"},Lt={class:"fieldset-legend"},zt={class:"w-full max-w-xs form-control"},Mt={class:"label"},Ut={class:"label-text"},Pt={disabled:"",selected:""},Bt=["value"],Dt={class:"w-full max-w-xs form-control"},At={class:"label"},It={class:"label-text"},jt={disabled:"",selected:"",class:"w-full truncate"},Gt=["value","title"],$t={class:"label"},qt={class:"grid w-full grid-cols-2 gap-4"},Rt={class:"flex flex-col items-center max-w-xs gap-1 form-control"},Et={class:"label"},Nt={class:"label-text"},Ot={class:"flex flex-col items-center max-w-xs gap-1 form-control"},Wt={class:"label"},Ht={class:"label-text"},Jt={class:"flex flex-col items-center max-w-xs gap-1 form-control"},Kt={class:"label"},Qt={class:"label-text"},Xt={class:"flex flex-col items-center max-w-xs gap-1 form-control"},Yt={class:"label"},Zt={class:"label-text"},el=e({__name:"ThemeSetting",props:d({imageList:{}},{themeValue:{},themeValueModifiers:{},backgroundImageValue:{},backgroundImageValueModifiers:{},cardColorValue:{},cardColorValueModifiers:{},luckyCardColorValue:{},luckyCardColorValueModifiers:{},textColorValue:{},textColorValueModifiers:{},patternColorValue:{},patternColorValueModifiers:{}}),emits:["update:themeValue","update:backgroundImageValue","update:cardColorValue","update:luckyCardColorValue","update:textColorValue","update:patternColorValue"],setup(e){const i=U(Ft),d=ne(),{t:c}=a(),p=t(e,"themeValue"),f=t(e,"backgroundImageValue"),m=t(e,"cardColorValue"),v=t(e,"luckyCardColorValue"),b=t(e,"textColorValue"),h=t(e,"patternColorValue");return(a,t)=>(o(),l("fieldset",Tt,[s("legend",Lt,n(r(c)("table.themeSetting")),1),s("div",zt,[s("label",Mt,[s("span",Ut,n(r(c)("table.theme")),1)]),u(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border"},[s("option",Pt,n(r(c)("table.theme")),1),(o(!0),l(w,null,C(i,(e,a)=>(o(),l("option",{key:a,value:e},n(e),9,Bt))),128))],512),[[se,p.value]])]),s("div",Dt,[s("label",At,[s("span",It,n(r(c)("table.backgroundImage")),1)]),u(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),"data-choose-theme":"",class:"box-border w-full max-w-xs truncate border-solid select border"},[s("option",jt,n(r(c)("table.backgroundImage")),1),(o(!0),l(w,null,C([{name:"❌",url:"",id:""},...e.imageList],(e,a)=>(o(),l("option",{key:a,value:e,title:e.name,class:"box-border w-full truncate"},n(e.name),9,Gt))),128))],512),[[se,f.value]]),s("span",$t,[$(n(r(c)("tooltip.pleaseGoto"))+" ",1),s("a",{class:"link link-info",onClick:t[2]||(t[2]=()=>{r(d).push("image")})},n(r(c)("sidebar.imagesManagement")),1),$(" "+n(r(c)("tooltip.uploadImage")),1)])]),s("div",qt,[s("div",Rt,[s("label",Et,[s("span",Nt,n(r(c)("table.cardColor")),1)]),g(r(re),{modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=e=>m.value=e),"pure-color":m.value,"onUpdate:pureColor":t[4]||(t[4]=e=>m.value=e)},null,8,["modelValue","pure-color"])]),s("div",Ot,[s("label",Wt,[s("span",Ht,n(r(c)("table.winnerColor")),1)]),g(r(re),{modelValue:v.value,"onUpdate:modelValue":t[5]||(t[5]=e=>v.value=e),"pure-color":v.value,"onUpdate:pureColor":t[6]||(t[6]=e=>v.value=e)},null,8,["modelValue","pure-color"])]),s("div",Jt,[s("label",Kt,[s("span",Qt,n(r(c)("table.textColor")),1),t[11]||(t[11]=s("div",{class:"tooltip","data-tip":"设置文本颜色会覆盖标题样式"},[s("button",{class:"btn btn-circle h-4 hover:bg-base-300"}," ? ")],-1))]),g(r(re),{modelValue:b.value,"onUpdate:modelValue":t[7]||(t[7]=e=>b.value=e),"pure-color":b.value,"onUpdate:pureColor":t[8]||(t[8]=e=>b.value=e)},null,8,["modelValue","pure-color"])]),s("div",Xt,[s("label",Yt,[s("span",Zt,n(r(c)("table.highlightColor")),1)]),g(r(re),{modelValue:h.value,"onUpdate:modelValue":t[9]||(t[9]=e=>h.value=e),"pure-color":h.value,"onUpdate:pureColor":t[10]||(t[10]=e=>h.value=e)},null,8,["modelValue","pure-color"])])])]))}}),al=ue.createInstance({name:"imgStore"}),tl=ue.createInstance({name:"audioStore"});function ll(){!async function(){await al.clear()}(),async function(){await tl.clear()}()}function ol(){const e=be().globalConfig,a=be().personConfig,t=be().prizeConfig,{getGlobalConfig:l,getTopTitle:o,getTheme:s,getPatterColor:n,getPatternList:r,getCardColor:u,getLuckyColor:i,getTextColor:d,getCardSize:c,getTextSize:f,getRowCount:m,getIsShowPrizeList:v,getLanguage:g,getBackground:h,getFont:x,getTitleFont:y,getTitleFontSyncGlobal:w,getImageList:C,getIsShowAvatar:V,getDefiniteTime:k,getWinMusic:S,getIsTestMode:_}=ie(e),{getAlreadyPersonList:F,getNotPersonList:T}=ie(a),L=b(0),z=b(s.value.name),M=b(structuredClone(o.value)),U=b(structuredClone(u.value)),P=b(structuredClone(i.value)),B=b(structuredClone(d.value)),D=b(structuredClone(c.value)),A=b(structuredClone(f.value)),j=b(structuredClone(m.value)),G=b(structuredClone(g.value)),$=b(structuredClone(v.value)),q=b(structuredClone(V.value)),R=b(structuredClone(n.value)),E=b(h.value),N=b(structuredClone(x.value)),O=b(structuredClone(y.value)),W=b(structuredClone(w.value)),H=b(structuredClone(k.value)),J=b(structuredClone(S.value)),K=b(structuredClone(_.value)),Q=b({rowCount:j}),X=b({rowCount:""}),Y=de({rowCount:ce({error:ge.global.t("error.require")}).min(1,ge.global.t("error.minNumber1")).max(100,ge.global.t("error.maxNumber100"))}),Z={rowCount:Q.value.rowCount};return p(()=>Q.value.rowCount,()=>{var a;Z.rowCount=Q.value.rowCount,(a=Z,Y.parseAsync(a)).then(a=>{a.rowCount&&(L.value=1,e.setRowCount(a.rowCount))}).catch(e=>{X.value.rowCount=e.issues[0].message})}),p(M,a=>{e.setTopTitle(a)}),p(z,a=>{e.setTheme({name:a}),xe(a)},{deep:!0}),p(U,a=>{e.setCardColor(a)},{deep:!0}),p(P,a=>{e.setLuckyCardColor(a)},{deep:!0}),p(R,a=>{e.setPatterColor(a)}),p(B,a=>{e.setTextColor(a)},{deep:!0}),p(D,a=>{e.setCardSize(a)},{deep:!0}),p($,()=>{e.setIsShowPrizeList($.value)}),p(E,a=>{e.setBackground(a)}),p(N,a=>{e.setFont(a),document.documentElement.style.setProperty("--app-font-family",`"${a}", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif`)}),p(O,a=>{e.setTitleFont(a)}),p(W,a=>{e.setTitleFontSyncGlobal(a)}),p(G,a=>{e.setLanguage(a)}),p(q,()=>{e.setIsShowAvatar(q.value)}),p(H,()=>{e.setDefiniteTime(H.value)}),p(J,()=>{e.setIsPlayWinMusic(J.value)}),p(K,()=>{e.setIsTestMode(K.value)}),p(A,a=>{e.setTextSize(a)}),I(()=>{}),{resetData:function(){e.reset(),a.reset(),t.resetDefault(),ll(),window.location.reload()},topTitleValue:M,languageValue:G,textSizeValue:A,currentFontValue:N,currentTitleFontValue:O,titleFontSyncGlobalValue:W,languageList:he,formErr:X,formData:Q,cardSizeValue:D,isShowPrizeListValue:$,isShowAvatarValue:q,resetPersonLayout:function(){L.value=2,setTimeout(()=>{const e=F.value.length,t=T.value.length;if(e<=0&&t<=0)return;const l=F.value.concat(T.value),o=l.slice(0,e),s=l.slice(e,t+e);a.deleteAllPerson(),a.addNotPersonList(s),a.addAlreadyPersonList(o,null),L.value=0},1e3)},isRowCountChange:L,themeValue:z,backgroundImageValue:E,cardColorValue:U,luckyCardColorValue:P,textColorValue:B,patternColorValue:R,imageList:C,rowCount:m,cardColor:u,patternColor:n,patternList:r,clearPattern:function(){e.setPatternList([])},resetPattern:function(){e.resetPatternList()},exportAllConfigData:function(){const e=JSON.stringify(l.value,null,2),a=`data:application/json;charset=utf-8,${encodeURIComponent(e)}`,t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download","global-config.json"),t.click()},importAllConfigData:function(a){e.setGlobalConfig(a),window.location.reload()},definiteTimeValue:H,isWinMusicValue:J,isTestModeValue:K}}const sl={class:"w-4/5 flex flex-col gap-4"},nl=e({__name:"index",setup(e){const{t:t}=a(),{resetData:u,topTitleValue:i,languageValue:d,textSizeValue:c,currentFontValue:p,currentTitleFontValue:f,titleFontSyncGlobalValue:v,languageList:b,formErr:h,formData:x,cardSizeValue:y,isShowPrizeListValue:w,isShowAvatarValue:C,resetPersonLayout:V,isRowCountChange:k,themeValue:S,backgroundImageValue:_,cardColorValue:F,luckyCardColorValue:T,textColorValue:L,patternColorValue:z,imageList:M,rowCount:U,cardColor:P,patternColor:B,patternList:D,clearPattern:A,resetPattern:I,exportAllConfigData:j,importAllConfigData:G,definiteTimeValue:$,isWinMusicValue:q,isTestModeValue:R}=ol();return(e,a)=>(o(),l("div",sl,[s("h2",null,n(r(t)("viewTitle.globalSetting")),1),g(fe,null,{default:m(()=>[g(r(Ke),{"reset-data":r(u),"export-all-config-data":r(j),"import-all-config-data":r(G)},null,8,["reset-data","export-all-config-data","import-all-config-data"]),g(r(_t),{"top-title-value":r(i),"onUpdate:topTitleValue":a[0]||(a[0]=e=>pe(i)?i.value=e:null),"language-value":r(d),"onUpdate:languageValue":a[1]||(a[1]=e=>pe(d)?d.value=e:null),"text-size-value":r(c),"onUpdate:textSizeValue":a[2]||(a[2]=e=>pe(c)?c.value=e:null),"current-font-value":r(p),"onUpdate:currentFontValue":a[3]||(a[3]=e=>pe(p)?p.value=e:null),"current-title-font-value":r(f),"onUpdate:currentTitleFontValue":a[4]||(a[4]=e=>pe(f)?f.value=e:null),"title-font-sync-global-value":r(v),"onUpdate:titleFontSyncGlobalValue":a[5]||(a[5]=e=>pe(v)?v.value=e:null),"language-list":r(b),"onUpdate:languageList":a[6]||(a[6]=e=>pe(b)?b.value=e:null)},null,8,["top-title-value","language-value","text-size-value","current-font-value","current-title-font-value","title-font-sync-global-value","language-list"]),g(r(wa),{"form-err":r(h),"onUpdate:formErr":a[7]||(a[7]=e=>pe(h)?h.value=e:null),"form-data":r(x),"onUpdate:formData":a[8]||(a[8]=e=>pe(x)?x.value=e:null),"card-size-value":r(y),"onUpdate:cardSizeValue":a[9]||(a[9]=e=>pe(y)?y.value=e:null),"is-show-prize-list-value":r(w),"onUpdate:isShowPrizeListValue":a[10]||(a[10]=e=>pe(w)?w.value=e:null),"is-show-avatar-value":r(C),"onUpdate:isShowAvatarValue":a[11]||(a[11]=e=>pe(C)?C.value=e:null),"reset-person-layout":r(V),"is-row-count-change":r(k)},null,8,["form-err","form-data","card-size-value","is-show-prize-list-value","is-show-avatar-value","reset-person-layout","is-row-count-change"]),g(r(el),{"theme-value":r(S),"onUpdate:themeValue":a[12]||(a[12]=e=>pe(S)?S.value=e:null),"background-image-value":r(_),"onUpdate:backgroundImageValue":a[13]||(a[13]=e=>pe(_)?_.value=e:null),"card-color-value":r(F),"onUpdate:cardColorValue":a[14]||(a[14]=e=>pe(F)?F.value=e:null),"lucky-card-color-value":r(T),"onUpdate:luckyCardColorValue":a[15]||(a[15]=e=>pe(T)?T.value=e:null),"text-color-value":r(L),"onUpdate:textColorValue":a[16]||(a[16]=e=>pe(L)?L.value=e:null),"pattern-color-value":r(z),"onUpdate:patternColorValue":a[17]||(a[17]=e=>pe(z)?z.value=e:null),"image-list":r(M)},null,8,["theme-value","background-image-value","card-color-value","lucky-card-color-value","text-color-value","pattern-color-value","image-list"]),g(r(Pa),{"row-count":r(U),"card-color":r(P),"pattern-color":r(B),"pattern-list":r(D),"clear-pattern":r(A),"reset-pattern":r(I)},null,8,["row-count","card-color","pattern-color","pattern-list","clear-pattern","reset-pattern"]),g(r(Be),{"definite-time":r($),"onUpdate:definiteTime":a[18]||(a[18]=e=>pe($)?$.value=e:null),"win-music":r(q),"onUpdate:winMusic":a[19]||(a[19]=e=>pe(q)?q.value=e:null),"is-test-mode":r(R),"onUpdate:isTestMode":a[20]||(a[20]=e=>pe(R)?R.value=e:null)},null,8,["definite-time","win-music","is-test-mode"])]),_:1})]))}});export{nl as default};
